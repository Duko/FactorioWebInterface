@page
@model FactorioWebInterface.Pages.Admin.ScenarioDataModel
@{
    ViewData["Title"] = "ScenarioData";
}

<div class="container">

    <div class="row">
        <h2>Scenario Data</h2>
        <p>Select data set from dropdown.</p>
        <p>If you are viewing a dataset you will see updates happen live. Changes made here will be sent to running servers.</p>
        <p>You will need to refresh the data sets list to see new data sets if they are made.</p>
        <p>Click on a row to have the values filled into the form</p>
        <p>If the new value is omitted the key is removed</p>
        <hr />
    </div>

    <div class="row">

        <div class="col-md-3">
            <label>Selected Data set:</label>
        </div>
        <div class="dropdown col-md-3">
            <button class="btn btn-primary dropdown-toggle " type="button" data-toggle="dropdown">
                <span id="dataSetsCurrent">Fetching Data sets</span><span class="caret"></span>
            </button>
            <ul id="dataSetsDropdownList" class="dropdown-menu"></ul>
        </div>
        <div class="col-md-3">
            <button id="refreshDataSets" class="btn btn-default">Refresh data set list</button>
        </div>

    </div>

    <div class="row">
        <div class="col-md-6">

            <div class="form-horizontal">
                <hr />
                <h4>Update Data</h4>

                <div class="form-group">
                    <label class="control-label col-md-2" for="dataSetInput">Data Set</label>
                    <div class="col-md-10">
                        <input id="dataSetInput" class="form-control" type="text" />
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-md-2" for="keyInput">Key</label>
                    <div class="col-sm-10">
                        <input id="keyInput" class="form-control col-md-10" type="text" />
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-md-2" for="valueInput">Value</label>
                    <div class="col-sm-10">
                        <input id="valueInput" class="form-control col-md-10" type="text" />
                    </div>
                </div>

                <button id="updateButton" class="btn btn-default">Update</button>
                <hr />
            </div>

        </div>
    </div>


    <div class="row">

        <div class="table-responsive">
            <table id="dataTable" class="table table-bordered table-striped table-hover">
                <thead>
                    <tr>
                        <th class="col-md-2">Key</th>
                        <th>Value</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

    </div>

    @section Scripts{
        <environment include="Development">
            <script type="text/javascript" src="~/js/scenarioData.js" asp-append-version="true"></script>
        </environment>
        <environment exclude="Development">
            <script type="text/javascript" src="~/js/scenarioData.js"></script>
        </environment>
    }

</div>
